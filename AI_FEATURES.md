# ๐ค ููุฒุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู

## โ ุชู ุฅุถุงูุฉ ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุงูู!

### ๐ฏ ุงูููุฒุงุช ุงููุถุงูุฉ

#### 1. **ุชุญููู ุงูุตูุช ุฅูู ูุต (Whisper)**
```typescript
// ุงุณุชุฎุฏุงู OpenAI Whisper API
transcribeAudio(audioBuffer, filename) โ text
```
- ุชุญููู ุงูุฑุณุงุฆู ุงูุตูุชูุฉ ุฅูู ูุต
- ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ
- ุฏูุฉ ุนุงููุฉ ูู ุงูุชุนุฑู ุนูู ุงูุตูุช

#### 2. **ููู ุงูุฃุณุฆูุฉ ุงููุญุงุณุจูุฉ (GPT-4)**
```typescript
// ููู ุงูุณุคุงู ูุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช
understandAccountingQuestion(question) โ {
  intent: "customer_balance" | "top_debtors" | "supplier_balance" | ...,
  entity: "ุงุณู ุงูุนููู/ุงูููุฑุฏ",
  parameters: { limit, date, range, ... }
}
```

**ุฃููุงุน ุงูุฃุณุฆูุฉ ุงููุฏุนููุฉ:**
- `customer_balance` - ุฑุตูุฏ ุนููู ูุญุฏุฏ
- `top_debtors` - ุฃูุจุฑ ุงูุนููุงุก ุงููุฏูููู
- `supplier_balance` - ุฑุตูุฏ ููุฑุฏ ูุญุฏุฏ
- `total_sales` - ุฅุฌูุงูู ุงููุจูุนุงุช
- `account_info` - ูุนูููุงุช ุญุณุงุจ
- `general_query` - ุฃุณุฆูุฉ ุนุงูุฉ

#### 3. **ุชูููุฏ ุงูุฑุฏูุฏ ุงูุฐููุฉ (GPT-4)**
```typescript
// ุชูููุฏ ุฑุฏ ุงุญุชุฑุงูู ุจุงูุนุฑุจูุฉ
generateResponse(question, data) โ answer
```
- ุฑุฏูุฏ ูุงุถุญุฉ ููุฎุชุตุฑุฉ
- ุงุณุชุฎุฏุงู ุงูุฃุฑูุงู ุจูุถูุญ
- ุฐูุฑ ุงูุนููุฉ (ุฑูุงู ุณุนูุฏู)
- ุฃุณููุจ ููุฐุจ ููุญุชุฑู

#### 4. **ูุนุงูุฌุฉ ูุงููุฉ ููุฃุณุฆูุฉ**
```typescript
// ูุนุงูุฌุฉ ุณุคุงู ูู ุงูุจุฏุงูุฉ ููููุงูุฉ
processAccountingQuery(question, getDataFunction) โ {
  answer: "ุงูุฑุฏ ุงููุตู",
  data: { ... }
}
```

---

## ๐ก API Endpoints

### 1. `/api/trpc/ai.askQuestion`
**ุทุฑุญ ุณุคุงู ูุตู**
```json
{
  "question": "ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ"
}
```
**Response:**
```json
{
  "success": true,
  "answer": "ุฑุตูุฏ ุงูุนููู ุฃุญูุฏ ูุญูุฏ ูู 15,250.00 ุฑูุงู ุณุนูุฏู",
  "data": [...]
}
```

### 2. `/api/trpc/ai.transcribeVoice`
**ุชุญููู ุตูุช ุฅูู ูุต**
```json
{
  "audioBase64": "base64_encoded_audio",
  "filename": "voice.ogg"
}
```
**Response:**
```json
{
  "success": true,
  "text": "ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ"
}
```

### 3. `/api/trpc/ai.processVoiceMessage`
**ูุนุงูุฌุฉ ุฑุณุงูุฉ ุตูุชูุฉ ูุงููุฉ**
```json
{
  "audioBase64": "base64_encoded_audio"
}
```
**Response:**
```json
{
  "success": true,
  "question": "ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ",
  "answer": "ุฑุตูุฏ ุงูุนููู ุฃุญูุฏ ูุญูุฏ ูู 15,250.00 ุฑูุงู ุณุนูุฏู",
  "data": [...]
}
```

### 4. `/api/trpc/ai.getSuggestions`
**ุงูุญุตูู ุนูู ุฃุณุฆูุฉ ููุชุฑุญุฉ**
```json
{
  "suggestions": [
    "ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ",
    "ุฃูุจุฑ 10 ุนููุงุก ูุฏูููู",
    "ุฅุฌูุงูู ุงููุจูุนุงุช ุงูููู",
    ...
  ]
}
```

---

## ๐จ ุตูุญุฉ ุงููุณุงุนุฏ ุงูุฐูู

### ุงููุณุงุฑ: `/ai`

**ุงูููุฒุงุช:**
- โ ูุงุฌูุฉ ูุญุงุฏุซุฉ ุชูุงุนููุฉ
- โ ุฃุณุฆูุฉ ููุชุฑุญุฉ
- โ ุฅุฑุณุงู ุฃุณุฆูุฉ ูุตูุฉ
- โ ุนุฑุถ ุงูุฑุฏูุฏ ุงูููุฑูุฉ
- โณ ุงูุฑุณุงุฆู ุงูุตูุชูุฉ (ูุฑูุจุงู)

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
```
ุงููุณุชุฎุฏู: ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ
ุงููุณุงุนุฏ: ุฑุตูุฏ ุงูุนููู ุฃุญูุฏ ูุญูุฏ ูู 15,250.00 ุฑูุงู ุณุนูุฏู

ุงููุณุชุฎุฏู: ุฃูุจุฑ 5 ุนููุงุก ูุฏูููู
ุงููุณุงุนุฏ: ุฃูุจุฑ 5 ุนููุงุก ูุฏูููู:
1. ูุญูุฏ ุตุงูุญ - 47,792.59 ุฑูุงู
2. ุฃุญูุฏ ุนูู - 35,420.00 ุฑูุงู
3. ุฎุงูุฏ ูุญููุฏ - 28,150.00 ุฑูุงู
4. ุณุนูุฏ ุนุจุฏุงููู - 22,890.00 ุฑูุงู
5. ููุฏ ุฅุจุฑุงููู - 19,340.00 ุฑูุงู
```

---

## ๐ง ุงูุฅุนุฏุงุฏ

### 1. ูุชุทูุจุงุช ุงูุจูุฆุฉ
```bash
# ุฅุถุงูุฉ OpenAI API Key ูู .env
OPENAI_API_KEY=sk-your-api-key-here
```

### 2. ุชุซุจูุช ุงูููุชุจุงุช
```bash
npm install openai
```

### 3. ุชุดุบูู ุงููุธุงู
```bash
./restart.sh
```

---

## ๐ฐ ุงูุชูููุฉ

### OpenAI API Pricing:

**Whisper (ุชุญููู ุงูุตูุช):**
- $0.006 ููู ุฏูููุฉ
- ุฑุณุงูุฉ ุตูุชูุฉ 30 ุซุงููุฉ = $0.003

**GPT-4 (ููู ูุชูููุฏ):**
- Input: $0.03 ููู 1K tokens
- Output: $0.06 ููู 1K tokens
- ุณุคุงู + ุฑุฏ = ~500 tokens = $0.025

**ุงูุชูููุฉ ุงููุชููุนุฉ:**
- 100 ุณุคุงู/ููู = $2.50/ููู = $75/ุดูุฑ
- 500 ุณุคุงู/ููู = $12.50/ููู = $375/ุดูุฑ

---

## ๐ฏ ุฃูุซูุฉ ุงูุฃุณุฆูุฉ ุงููุฏุนููุฉ

### ุฃุฑุตุฏุฉ ุงูุนููุงุก:
- "ูู ุฑุตูุฏ ุงูุนููู ุฃุญูุฏุ"
- "ุฑุตูุฏ ุงูุนููู ุฑูู 12638"
- "ุฃูุจุฑ 10 ุนููุงุก ูุฏูููู"
- "ุงูุนููุงุก ุจุฑุตูุฏ ุตูุฑ"
- "ุนุฏุฏ ุงูุนููุงุก ุงููุชุฃุฎุฑูู"

### ุฃุฑุตุฏุฉ ุงูููุฑุฏูู:
- "ุฑุตูุฏ ุงูููุฑุฏ 201011"
- "ุฃูุจุฑ 5 ููุฑุฏูู"
- "ุฅุฌูุงูู ุฃุฑุตุฏุฉ ุงูููุฑุฏูู"

### ุงูุญุณุงุจุงุช:
- "ุฑุตูุฏ ุญุณุงุจ 101020001"
- "ุฃุฑุตุฏุฉ ุงูุจููู"
- "ุญุณุงุจุงุช ุงูุฎุฒููุฉ"

### ุงูุฅุญุตุงุฆูุงุช:
- "ุฅุฌูุงูู ุงููุจูุนุงุช ุงูููู"
- "ุนุฏุฏ ุงูุนููุงุก"
- "ููุฎุต ุงูุฃุฑุตุฏุฉ"

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุงููุฑุญูุฉ 1: ุชุญุณูู ุงูููู
- [ ] ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุฃููุงุน ุงูุฃุณุฆูุฉ
- [ ] ุชุญุณูู ุฏูุฉ ุงูููู
- [ ] ุฏุนู ุงูุฃุณุฆูุฉ ุงููุฑูุจุฉ

### ุงููุฑุญูุฉ 2: ุงูุฑุณุงุฆู ุงูุตูุชูุฉ
- [ ] ุฅุถุงูุฉ ElevenLabs ููุฑุฏ ุงูุตูุชู
- [ ] ุชุณุฌูู ุงูุตูุช ูู ุงููุชุตูุญ
- [ ] ุชุดุบูู ุงูุฑุฏูุฏ ุงูุตูุชูุฉ

### ุงููุฑุญูุฉ 3: ุงูุชุญููู ุงูุฐูู
- [ ] ุงูุชุดุงู ุงูุฃููุงุท
- [ ] ุงูุชูุจุค ุจุงููุจูุนุงุช
- [ ] ุงูุชูุตูุงุช ุงูุชููุงุฆูุฉ
- [ ] ุชูุจููุงุช ุฐููุฉ

### ุงููุฑุญูุฉ 4: ุงูุชูุงูู ูุน WhatsApp
- [ ] ุงุณุชูุจุงู ุงูุฃุณุฆูุฉ ูู WhatsApp
- [ ] ุงูุฑุฏ ุงูุชููุงุฆู ุนูู WhatsApp
- [ ] ุงูุฑุณุงุฆู ุงูุตูุชูุฉ ุนูู WhatsApp

---

## ๐ ููุงุญุธุงุช

### ุงูุญุงูุฉ ุงูุญุงููุฉ:
- โ OpenAI Service ุฌุงูุฒ
- โ AI Router ุฌุงูุฒ
- โ ุตูุญุฉ ุงููุณุงุนุฏ ุงูุฐูู ุฌุงูุฒุฉ
- โ ููู ุงูุฃุณุฆูุฉ ูุนูู
- โ ุชูููุฏ ุงูุฑุฏูุฏ ูุนูู
- โ๏ธ ูุญุชุงุฌ OpenAI API Key ููุชุดุบูู
- โณ ุงูุฑุณุงุฆู ุงูุตูุชูุฉ ููุฏ ุงูุชุทููุฑ

### ููุงุฎุชุจุงุฑ:
1. ุฃุถู `OPENAI_API_KEY` ูู `.env`
2. ุฃุนุฏ ุชุดุบูู ุงููุธุงู
3. ุงูุชุญ `/ai`
4. ุงุทุฑุญ ุณุคุงูุงู

---

**๐ ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฌุงูุฒ! ๐ค**

ุขุฎุฑ ุชุญุฏูุซ: 2025-12-04 05:13 UTC
